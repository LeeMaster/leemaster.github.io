<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Algorithms Design Recursion and Divide conquer | LeeMaster&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Description of Recursion and DivideMaybe in every CS student will learn the problem of Hanoi tower as the first step to learn the Recursion  and Divide But this problem is seem difficult and abstract">
<meta name="keywords" content="Divide and Conquer,Recursion">
<meta property="og:type" content="article">
<meta property="og:title" content="Algorithms Design Recursion and Divide conquer">
<meta property="og:url" content="http://leemaster.cn/2018/05/15/Algorithms-Design-Recursion-and-Divide-conquer/index.html">
<meta property="og:site_name" content="LeeMaster&#39;s Blog">
<meta property="og:description" content="Description of Recursion and DivideMaybe in every CS student will learn the problem of Hanoi tower as the first step to learn the Recursion  and Divide But this problem is seem difficult and abstract">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-05-15T01:39:28.036Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Algorithms Design Recursion and Divide conquer">
<meta name="twitter:description" content="Description of Recursion and DivideMaybe in every CS student will learn the problem of Hanoi tower as the first step to learn the Recursion  and Divide But this problem is seem difficult and abstract">
  
    <link rel="alternate" href="/about" title="LeeMaster&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LeeMaster&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Find More effective things</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/about" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://leemaster.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Algorithms-Design-Recursion-and-Divide-conquer" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/15/Algorithms-Design-Recursion-and-Divide-conquer/" class="article-date">
  <time datetime="2018-05-15T09:04:37.000Z" itemprop="datePublished">2018-05-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Algorithms/">Algorithms</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Algorithms Design Recursion and Divide conquer
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Description-of-Recursion-and-Divide"><a href="#Description-of-Recursion-and-Divide" class="headerlink" title="Description of Recursion and Divide"></a>Description of Recursion and Divide</h1><p>Maybe in every CS student will learn the problem of Hanoi tower as the first step to learn the <strong>Recursion</strong>  and <strong>Divide</strong></p>
<p>But this problem is seem difficult and abstract in our brain . So in a easy I will summarize the common characters in our actural life</p>
<h2 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h2><p>As we know that the computer will work with the register and will use these to operate the physical memory .</p>
<p>The base is that the register like PC or DS:IP will record the program address when the program running .</p>
<p>The Recursion is like that after end of a program and then call the same address next CPU trick .</p>
<p>And in the view of Math , I saw that when the recursion do so , then<br>the problem will reduce to a less scale of problem for now . </p>
<p>This surface like the <strong>recursion formula</strong> in learning of senquence of number in high school.</p>
<p>I can belive that the next state will be contained in the before state, also the next state will be described by the before state.</p>
<p>For example , When we got a senquence and want to know the full permutation for this senquence , what will we do in the next time to solve this problem.</p>
<p>This instance {a,b,c,d,e} then we will write a algorithm to get this senquence full permutation. The code will be writen in C</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">perm</span><span class="params">(<span class="keyword">int</span> arr[] , <span class="keyword">int</span> s , <span class="keyword">int</span> e)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(s == m)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ;i &lt; e ;i++) <span class="built_in">cout</span> &lt;&lt; arr[i]; </span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  </span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = s ; i &lt; m ;i++)&#123;</span><br><span class="line">      </span><br><span class="line">      swap(arr[s] , arr[i]);</span><br><span class="line"></span><br><span class="line">      perm(s + <span class="number">1</span>,e);</span><br><span class="line"></span><br><span class="line">      swap(arr[s],arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Let’s we do some analyzes for this function to get the full permumation.</p>
<p>This algorithm do like we think in common , from the start of this senquence to the end every time we fix a position and let the same handler to do next time .</p>
<p>To be more clearly we see this senquence {1,2,3},we can easy to write the the full permumation </p>
<ul>
<li>1 2 3</li>
<li>1 3 2</li>
<li>2 1 3 </li>
<li>2 3 1</li>
<li>3 1 2</li>
<li>3 2 1 </li>
</ul>
<p>So is easy to get this algorithm soule that we fix the first number and then move the origin first number to the next position . and then do the same operation continue . Yeah , call the same function to handle the next situation next .</p>
<p>This algorithm is real easy in action and the time complexity is O(n^2)</p>
<h2 id="Divide-conquer"><a href="#Divide-conquer" class="headerlink" title="Divide conquer"></a>Divide conquer</h2><p>This title may do lots thing in the big data domain to handle some problem like Map/Reduce .</p>
<p>We can belive the Map operation is to divide and the Reduce is to conquer .</p>
<p>The classical problem that we call TopK.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CyclicBarrier;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutorService;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ForkJoinPool;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.RecursiveTask;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@author</span> leemaster</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@version</span> V1.0</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Project</span> hotel</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Title</span> TopKProblem.java created on 18-3-27</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Package</span> cn.leemaster.gist</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Describtion</span></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@since</span> v1.0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TopKProblem</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ForkJoinPool executorService = <span class="keyword">new</span> ForkJoinPool();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * we assume that we need the top 100 maxinum numbers form</span></span><br><span class="line"><span class="comment">     * more than 10billion numbers which will be divided into </span></span><br><span class="line"><span class="comment">     * some files so we need a support datastructure to do something</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">TopKHeap</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span>[] arrayHeap = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">101</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> nowSize = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> tmp = arrayHeap[i];</span><br><span class="line"></span><br><span class="line">            arrayHeap[i] = arrayHeap[j];</span><br><span class="line"></span><br><span class="line">            arrayHeap[j] = tmp;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">adjustHeap</span><span class="params">(<span class="keyword">int</span> adjust,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> left = adjust * <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> right = adjust * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> largest ;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(left &lt;= end &amp;&amp; arrayHeap[adjust] &lt; arrayHeap[left])</span><br><span class="line">                largest = left;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                largest = adjust;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(right &lt;= end &amp;&amp; arrayHeap[largest] &lt; arrayHeap[right])</span><br><span class="line">                largest = right;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(largest != adjust)&#123;</span><br><span class="line">                swap(adjust, largest);</span><br><span class="line"></span><br><span class="line">                adjustHeap(adjust, largest, end);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">adjustBottom</span><span class="params">(<span class="keyword">int</span> adjust)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(adjust &gt;= <span class="number">50</span>) <span class="keyword">return</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> parent = adjust / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> next = adjust;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(parent &gt;= <span class="number">1</span> &amp;&amp; arrayHeap[adjust] &gt; arrayHeap[parent])</span><br><span class="line">                next = parent;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(next != adjust)&#123;</span><br><span class="line">                swap(adjust, next);</span><br><span class="line">                adjustBottom(next);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> in)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(nowSize == <span class="number">100</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> leftMin = arrayHeap[<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span> rightMin = arrayHeap[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(in &gt; arrayHeap[leftMin] &amp;&amp; arrayHeap[leftMin] &lt; arrayHeap[rightMin])&#123;</span><br><span class="line">                    arrayHeap[<span class="number">50</span>] = in;</span><br><span class="line"></span><br><span class="line">                    adjustBottom(<span class="number">25</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(in &gt; arrayHeap[rightMin] &amp;&amp; arrayHeap[rightMin] &lt;= arrayHeap[leftMin])&#123;</span><br><span class="line">                    arrayHeap[<span class="number">100</span>] = in;</span><br><span class="line"></span><br><span class="line">                    adjustBottom(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">                arrayHeap[++nowSize] = in;</span><br><span class="line"></span><br><span class="line">                adjustBottom(nowSize / <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMax</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(nowSize == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> tmp = arrayHeap[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            swap(<span class="number">1</span>, nowSize);</span><br><span class="line"></span><br><span class="line">            nowSize --;</span><br><span class="line"></span><br><span class="line">            adjustHeap(<span class="number">1</span>, <span class="number">1</span>, nowSize);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> tmp;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNowSize</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.nowSize;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">StasticTask</span> <span class="keyword">implements</span> <span class="title">RecursiveTask</span>&lt;<span class="title">TopKHeap</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> String[] files;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> start ;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> end ;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">StasticTask</span><span class="params">(String[] files)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.files = files;</span><br><span class="line">            <span class="keyword">this</span>.start = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.end = files.length - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="title">StasticTask</span><span class="params">(String[] files,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.files = files;</span><br><span class="line">            <span class="keyword">this</span>.start = start;</span><br><span class="line">            <span class="keyword">this</span>.end = end;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> TopKHeap <span class="title">compute</span><span class="params">()</span></span>&#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">final</span> TopKHeap finaHeap = <span class="keyword">new</span> TopKHeap();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(start == end)&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span>[] allNum = operateFile(files[start]);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; allNum.length ;i++)&#123;</span><br><span class="line">                    finaHeap.insert(allNum[i]);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> finaHeap;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">int</span> mid = (start + end) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">                StasticTask leftTask = <span class="keyword">new</span> StasticTask(files, start, mid);</span><br><span class="line"></span><br><span class="line">                StasticTask righTask = <span class="keyword">new</span> StasticTask(files,mid+<span class="number">1</span>,end);</span><br><span class="line"></span><br><span class="line">                leftTask.fork();</span><br><span class="line"></span><br><span class="line">                righTask.fork();</span><br><span class="line"></span><br><span class="line">                combinHeap(leftTask.join(), righTask.join());</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> finaHeap;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> finaHeap;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">combinHeap</span><span class="params">(TopKHeap a,TopKHeap b)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; a.getNowSize();i++)&#123;</span><br><span class="line">                finaHeap.insert(a.getMax());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; b.getNowSize();i++)&#123;</span><br><span class="line">                finaHeap.insert(b.getMax());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] operateFile(String name)&#123;</span><br><span class="line"></span><br><span class="line">        File file = <span class="keyword">new</span> File(name);</span><br><span class="line"></span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(file);</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(scanner.hasNext())&#123;</span><br><span class="line">            list.add(scanner.nextInt());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list.toArray();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * we assume that the numbers will be split into 1000 files</span></span><br><span class="line"><span class="comment">     * and will we will open the about 4 threads to work for this task</span></span><br><span class="line"><span class="comment">     * and then output the top 100 numbers in these files </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        TopKHeap heap = <span class="keyword">new</span> TopKHeap();</span><br><span class="line"></span><br><span class="line">        String[] files = <span class="keyword">new</span> String[<span class="number">1000</span>];</span><br><span class="line"></span><br><span class="line">        Future&lt;TopKHeap&gt; finalHeap = </span><br><span class="line">         executorService.submit(<span class="keyword">new</span> StasticTask(files));</span><br><span class="line"></span><br><span class="line">        executorService.shutdown();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This algorithm will use the divide and conquer thinking to do the effective work in the handle operation .</p>
<p>Fork/Join framework will be more useful in action .</p>
<p>So what is the <strong>Divide and Conquer</strong> ?</p>
<p>We can draw a conclusion that when we handle the big data and then we want to handle every case , It’s look like the learning process<br>a person can’t learn the four years course in one day . So we will learn the parts of the course in every year like Compiler , Algorithms , OS ,SQL and so on.</p>
<p>Divide act the role that reduce the problem scale in some effective way.</p>
<p>Like the Binary search , we saw that the problem scale will reduce as a 1/2 times in every recursion , so the TopK problem is like this .</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://leemaster.cn/2018/05/15/Algorithms-Design-Recursion-and-Divide-conquer/" data-id="cjh70euc800018vana728dp70" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Divide-and-Conquer/">Divide and Conquer</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Recursion/">Recursion</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/05/09/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithms/">Algorithms</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Divide-and-Conquer/">Divide and Conquer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Recursion/">Recursion</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Divide-and-Conquer/" style="font-size: 10px;">Divide and Conquer</a> <a href="/tags/Recursion/" style="font-size: 10px;">Recursion</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/05/15/Algorithms-Design-Recursion-and-Divide-conquer/">Algorithms Design Recursion and Divide conquer</a>
          </li>
        
          <li>
            <a href="/2018/05/09/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 LeeMaster<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>